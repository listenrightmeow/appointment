Object.prototype.appointmentTime=function(g,e,f){if("Hourly"==g)return!1;var h=this,f=f.split(" "),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")[(new Date(e[2]+","+e[0]+","+e[1])).getDay()];({hours:function(a,b,c){console.log(c);this.updateVals(c[0].match(/\d+/g)?this.increment.call({hours:c,type:a}):[c.join(" ")])},increment:function(){console.log(this);var a="15 minutes"==this.type?["00","15","30","45"]:["00","30"],b=[],c=[this.hours[0].replace(/:\d+(am|pm)/gi,""),this.hours[2].replace(/:\d+(am|pm)/gi,
"")];for(i=~~c[0];12>i;i++)a.map(function(a){b.push(i+":"+a+" AM")});for(i=0;i<~~c[1];i++)a.map(function(a){0!=i?b.push(i+":"+a+" PM"):b.push("12:"+a+" PM")});if(this.hours[0].match(/:\d+/g))switch(this.type){case "15 minutes":":15"==this.hours[0].match(/:\d+/g)?b.splice(0,1):":30"==this.hours[0].match(/:\d+/g)?b.splice(0,2):":45"==this.hours[0].match(/:\d+/g)&&b.splice(0,3);break;case "30 minutes":":30"==this.hours[0].match(/:\d+/g)&&b.shift()}if(this.hours[2].match(/:\d+/g)){var d;if("15 minutes"==
this.type)switch(this.hours[2].match(/:\d+/g)[0]){case ":15":d=["00"];break;case ":30":d=["00","15"];break;case ":45":d=["00","15","30"]}else if("30 minutes"==this.type)switch(this.hours[2].match(/:\d+/g)[0]){case ":15":d=["00"];break;case ":30":d=["00"];break;case ":45":d=["00","30"]}":00"!=this.hours[2].match(/:\d+/g)[0]&&d.map(function(a){b.push(~~c[1]+":"+a+" PM")})}return b},updateVals:function(a){var b="";for(i=0;i<a.length;i++)b+="<option value="+a[i]+">"+a[i]+"</option>";h.innerHTML=b}}).hours(g,
e,f)};document.querySelector("#times").appointmentTime("15 minutes","10/11/12","8:00AM - 5:00PM");
